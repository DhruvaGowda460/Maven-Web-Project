node 
{
    stage('github'){
        git credentialsId: 'e83465fa-0c52-481d-9768-d205ffa8f41f', url: 'https://github.com/thejeshkum/maven-web-application.git'
    }
    stage('maven'){
        sh "mvn clean package"
    }
    stage('sonarqube'){
        sh "mvn sonar:sonar"
    }
   stage('tomcat'){
    sshagent(['59c55a02-ca62-4587-9411-a80bffdb5f5b']) {
    sh "scp -o StrickHostKeyChecking=no target/maven-web-application.war ec2-user@15.207.14.90:/opt/apache-tomcat-9.0.86/webapps" 
   }
 }
